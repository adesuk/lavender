<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
  <h:body>
    <ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">
      <ui:define name="content">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <f:view>
                <h:form styleClass="form-horizontal">
                  <h2>Periode Pelaksanaan Seminar/Sidang</h2>
                  <hr />

                  <!-- Periode Jadwal -->
                  <div class="form-group">
                    <h:outputLabel styleClass="col-sm-2 control-label">
                      <h:outputText value="Periode jadwal" /> <span class="required">*</span>
                    </h:outputLabel>
                    <div class="col-sm-3">
                      <p:selectOneMenu value="#{pengelolaanPeriode.selectedPeriode}"
                                       converter="#{periodeConverter}"
                                       style="width: 100%">
                        <f:selectItem itemLabel="All" />
                        <f:selectItems value="#{pengelolaanPeriode.periodes1}"
                                       var="item" itemLabel="#{pengelolaanJadwal.formatPeriode(item)}"
                                       itemValue="#{item}" />
                      </p:selectOneMenu>
                    </div>
                  </div>

                  <!-- Keyword -->
                  <div class="form-group">
                    <h:outputLabel styleClass="col-sm-2 control-label">
                      <h:outputText value="Nama periode" />
                    </h:outputLabel>
                    <div class="col-sm-3">
                      <p:inputText id="namaPeriode" style="width: 100%"
                                   value="#{pengelolaanPeriode.keyword}" />
                    </div>
                  </div>

                  <!-- Tombol-tombol itu -->
                  <div class="form-group">
                    <div class="col-md-12">
                      <h:panelGrid columns="3" styleClass="pull-right">
                        <p:commandButton value="Cari" actionListener="#{pengelolaanPeriode.reloadPeriodes2()}" 
                                         update="jadwalArea"
                                         style="width: 90px; margin: 5px" />
                        <p:commandButton value="Tambah" action="TambahPeriode.xhtml"
                                         style="width: 90px; margin: 5px" />
                        <p:commandButton value="Hapus"
                                         action="#{pengelolaanPeriode.deletePeriode()}"
                                         update="jadwalArea"
                                         style="width: 90px; margin: 5px" />
                      </h:panelGrid>
                    </div>
                  </div>

                  <!-- Table itu -->
                  <h:panelGroup layout="block" id="jadwalArea">
                    <p:dataTable id="periodes" var="periode" value="#{pengelolaanPeriode.periodes2}"
                                 editable="true">
                      <p:ajax event="rowEdit" listener="#{pengelolaanPeriode.onEdit}" />
                      <p:column headerText="" width="40">
                        <f:facet name="header">
                          <h:outputText value="" />
                        </f:facet>
                        <p:selectBooleanCheckbox value="#{periode.selected}" />
                      </p:column>
                      <p:column headerText="Nama Periode" width="300">
                        <p:cellEditor>
                          <f:facet name="output">
                            <h:outputText value="#{periode.namaPeriode}" />
                          </f:facet>
                          <f:facet name="input">
                            <p:inputText value="#{periode.namaPeriode}" style="width:100%" />
                          </f:facet>
                        </p:cellEditor>
                      </p:column>
                      <p:column headerText="Periode Awal">
                        <p:cellEditor>
                          <f:facet name="output">
                            <h:outputText value="#{periode.periodeAwal}">
                              <f:convertDateTime pattern="dd/MM/yyyy" />
                            </h:outputText>
                          </f:facet>
                          <f:facet name="input">
                            <p:calendar value="#{periode.periodeAwal}"
                                        pattern="dd/MM/yyyy"
                                        style="width:100%"
                                        binding="#{startDateComponent}"
                                        required="true" />
                          </f:facet>
                        </p:cellEditor>
                      </p:column>
                      <p:column headerText="Periode Akhir">
                        <p:cellEditor>
                          <f:facet name="output">
                            <h:outputText value="#{periode.periodeAkhir}">
                              <f:convertDateTime pattern="dd/MM/yyyy" />
                            </h:outputText>
                          </f:facet>
                          <f:facet name="input">
                            <p:calendar value="#{periode.periodeAkhir}"
                                        pattern="dd/MM/yyyy"
                                        style="width:100%"
                                        required="true">
                              <f:validator validatorId="dateRangeValidator" />
                              <f:attribute name="startDateComponent" value="#{startDateComponent}" />
                            </p:calendar>
                          </f:facet>
                        </p:cellEditor>
                      </p:column>
                      <p:column headerText="Tipe Pelaksanaan">
                        <f:facet name="output">
                          <h:outputText value="#{periode.tipeJadwal}" />
                        </f:facet>
                        <f:facet name="input">

                        </f:facet>
                      </p:column>
                      <p:column headerText="Status Verifikasi">
                        <f:facet name="output">
                          <h:outputText value="#{periode.statusVerifikasi}" />
                        </f:facet>
                        <f:facet name="input">

                        </f:facet>
                      </p:column>
                      <p:column headerText="Status Rilis">
                        <f:facet name="output">
                          <h:outputText value="#{periode.statusRilis}" />
                        </f:facet>
                      </p:column>
                      <p:column style="width: 5%">
                        <p:rowEditor />
                      </p:column>
                    </p:dataTable>
                  </h:panelGroup>
                </h:form>
              </f:view>
            </div>
          </div>
        </div>
      </ui:define>>
    </ui:composition>
  </h:body>
</html>

